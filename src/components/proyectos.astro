---
import { getCollection } from 'astro:content';

const proyectos = await getCollection('projects');

proyectos[0].id
---
<section class="flex flex-col lg:flex-row items-center lg:items-start w-full mb-20 justify-center">
    <div class="lg:grid flex flex-col lg:grid-cols-3 gap-10 sm:px-60 lg:px-60 px-10 w-auto">
        {
            proyectos.map(proyecto => {
                const { slug, data } = proyecto
                const { title, description, img } = data
                return (
                <div class="card example-1 relative rounded-xl mx-auto w-auto ">
                    <div class="inner rounded-xl max-w-sm ">
                        <div class="flex flex-col items-center justify-center w-full h-96 m-auto">
                            <div class="bg-white opacity-70 hover:opacity-96 rounded-lg shadow-lg overflow-hidden w-full h-full flex flex-col  hover:scale-105 transition-discrete duration-300">
                                <div class="w-full h-auto flex justify-center items-center overflow-hidden">
                                    <img src={img} alt={title} class="w-fit h-fit object-contain" />
                                </div>
                                <div class="p-4 flex flex-col flex-grow">
                                    <h2 class="text-xl text-black font-bold mb-2">{title}</h2>
                                    
                                    <div class="text-black text-sm text-justify break-words overflow-auto max-h-24">
                                        {description}
                                    </div>
                                    <div class="flex mt-6  ">
                                        <a href="https://ichiban-clone.vercel.app/" target="_blank" rel="noopener noreferrer" class="flex border-t-1 border-black flex-wrap items-center justify-center gap-2 flex-1 py-3 text-sm text-black cursor-pointer transition-transform duration-300 opacity-80 hover:-translate-y-1 hover:opacity-100" tabindex="0" style="transform: none;">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-external-link">
                                            <path d="M15 3h6v6"></path>
                                            <path d="M10 14 21 3"></path>
                                            <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                                            </svg>Demo
                                        </a>
                                        <a href="https://github.com/anthonyrovira/ichiban-clone" target="_blank" rel="noopener noreferrer" class="flex border-t-1 border-black flex-wrap items-center justify-center gap-2 flex-1 py-3 text-sm text-black cursor-pointer transition-transform duration-300 opacity-80 hover:-translate-y-1 hover:opacity-100" tabindex="0" style="transform: none;">
                                            <svg fill="currentColor" viewBox="0 0 24 24" aria-hidden="true" class="w-4 h-4">
                                                <path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd"></path>
                                            </svg>GitHub
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


                )    
            })
        }
    </div>

    <style>
        .card {
            max-width: 600px;
            width: 100%;
            margin: auto;
          }
          
          .card .inner {
            padding: 25px;
            background: #222;
            color: #fff;
          }
          
          .card h3 {
            margin-bottom: 15px;
          }
          
          .example-1,
          .example-2 {
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
          }
          
          .example-1 .inner,
          .example-2 .inner {
            position: relative;
            z-index: 1;
            width: 100%;
          }
          
          .example-1 .inner {
            margin: 5px;
          }
          
          .example-1::before {
            content: "";
            display: block;
            background: linear-gradient(
              90deg,
              hsla(197, 100%, 64%, 1) 0%,
              hsla(339, 100%, 55%, 1) 100%
            );
            height: 800px;
            width: 800px;
            position: absolute;
            animation: rotate 8s linear infinite;
            z-index: 0;
          }
          
          @keyframes rotate {
            from {
              transform: rotate(0);
            }
          
            to {
              transform: rotate(360deg);
            }
          }
        </style>
</section>
